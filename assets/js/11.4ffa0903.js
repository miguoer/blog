(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{372:function(t,a,r){t.exports=r.p+"assets/img/v8_01.3a4d54db.jpg"},373:function(t,a,r){t.exports=r.p+"assets/img/v8_02.71e1d8be.jpg"},374:function(t,a,r){t.exports=r.p+"assets/img/v8_03.c52f0968.jpg"},467:function(t,a,r){"use strict";r.r(a);var s=r(42),v=Object(s.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"v8-源码分析-二-js-引擎和渲染引擎"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#v8-源码分析-二-js-引擎和渲染引擎"}},[t._v("#")]),t._v(" V8 源码分析（二）- JS 引擎和渲染引擎")]),t._v(" "),s("h2",{attrs:{id:"渲染引擎及-webkit-体系结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#渲染引擎及-webkit-体系结构"}},[t._v("#")]),t._v(" 渲染引擎及 Webkit 体系结构")]),t._v(" "),s("p",[t._v("渲染引擎负责将 HTML/CSS/Javascript 文本及相应的资源文件转换成图像结果。")]),t._v(" "),s("p",[t._v("渲染引擎的种类有")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("Tridend(IE)")])]),t._v(" "),s("li",[s("p",[t._v("Gecko(Firefox)")])]),t._v(" "),s("li",[s("p",[t._v("Webkit(Safari,chrome,android)")]),t._v(" "),s("p",[t._v("webkit 框架如下图所示:\n"),s("img",{attrs:{src:r(372),alt:""}})])])]),t._v(" "),s("p",[t._v("Webkit 对外提供接口。JSCore 是苹果的渲染引擎，WebCore 是 Chome 的。")]),t._v(" "),s("p",[t._v("WebkitPort 负责调用底层库，如图形库，网络库，视频库等。")]),t._v(" "),s("h3",{attrs:{id:"javascript-引擎和渲染引擎"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#javascript-引擎和渲染引擎"}},[t._v("#")]),t._v(" Javascript 引擎和渲染引擎")]),t._v(" "),s("p",[t._v("渲染引擎使用 JS 引擎的接口来处理逻辑代码并获取接口。")]),t._v(" "),s("p",[t._v("JS 引擎通过桥接接口访问渲染引擎中的 DOM 及 CSSOM。")]),t._v(" "),s("p",[t._v("渲染引擎在遇到了 JS 后，会停止解析，去处理 JS。渲染引擎调用 JS 引擎接口，再通过桥接接口发送一个消息给到渲染引擎。")]),t._v(" "),s("p",[s("img",{attrs:{src:r(373),alt:""}})]),t._v(" "),s("p",[t._v("那 JS 引擎的工作流程又是什么样的？")]),t._v(" "),s("p",[s("img",{attrs:{src:r(374),alt:""}})]),t._v(" "),s("p",[t._v("JS 引擎，V8 也是一个 JS 引擎，先把源代码转成 AST，然后转成字节码，字节码给到解析器解析，再丢给 JIT(Just In Time) 做运行时优化，最后生成本地代码。")]),t._v(" "),s("h3",{attrs:{id:"v8-和-javascriptcore"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#v8-和-javascriptcore"}},[t._v("#")]),t._v(" V8 和 JavascriptCore")]),t._v(" "),s("p",[t._v("JavaScript Core 引擎是 WebKit 中默认的 JavaScript 引擎，也是苹果开源的一个项目，应用较为广泛。最初，性能不是很好，从 2008 年开始了一系列的优化，重新实现了编译器和字节码解释器，使得引擎的性能有较大的提升。随后内嵌缓存、基于正则表达式的 JIT、简单的 JIT 及字节码解释器等技术引入进来，JavaScriptCore 引擎也\n在不断的迭代和发展。")]),t._v(" "),s("p",[t._v("JavaScriptCore 与 V8 有一些不同之处，其中最大的不同就是新增了字节码的中间表示，并加入了多层 JIT 编译器（如：简单 JIT 编译器、DFG JIT 编译器、LLVM 等）优化性能，不停的对本地代码进行优化。")]),t._v(" "),s("h2",{attrs:{id:"源码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#源码"}},[t._v("#")]),t._v(" 源码")]),t._v(" "),s("h3",{attrs:{id:"工作过程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#工作过程"}},[t._v("#")]),t._v(" 工作过程")]),t._v(" "),s("h3",{attrs:{id:"数据表示"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据表示"}},[t._v("#")]),t._v(" 数据表示")]),t._v(" "),s("h3",{attrs:{id:"类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#类型"}},[t._v("#")]),t._v(" 类型")]),t._v(" "),s("h3",{attrs:{id:"内存管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#内存管理"}},[t._v("#")]),t._v(" 内存管理")]),t._v(" "),s("h3",{attrs:{id:"绑定机制和扩展机制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#绑定机制和扩展机制"}},[t._v("#")]),t._v(" 绑定机制和扩展机制")]),t._v(" "),s("h3",{attrs:{id:"字节码和-jit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#字节码和-jit"}},[t._v("#")]),t._v(" 字节码和 JIT")])])}),[],!1,null,null,null);a.default=v.exports}}]);